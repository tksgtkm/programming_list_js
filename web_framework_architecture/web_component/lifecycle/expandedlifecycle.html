<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Visual Countdown Timer</title>
    <script>
      class GameComponentBase extends HTMLElement {
        constructor() {
          super();
          this.onUpdate();
        }

        update() {}

        onUpdate() {
          this.update();
          requestAnimationFrame(() => this.onUpdate());
        }
      }

      class VisualCountdownTimer extends GameComponentBase {
        connectedCallback() {
          this.timer = 200;
          this.style.backgroundColor = 'green';
          this.style.display = 'inline-block';
          this.style.height = '50px';
        }

        update() {
          this.timer --;
          if (this.timer <= 0) {
            this.timer = 200;
          }
          this.style.width = this.timer + 'px';
        }
      }

      customElements.define('countdown-timer', VisualCountdownTimer);
    </script>
  </head>
  <body>
    <countdown-timer></countdown-timer>
  </body>
</html>
